<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ruleset SYSTEM "rulesetEntities.dtd">

<ruleset faction="FWL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="formationRulesetSchema.xsd">

	<defaults>
		<unitType ifDateBetween=",2520">Tank</unitType>
		<unitType>Mek</unitType>
		<eschelon>&REGIMENT;</eschelon>
		<rankSystem>&RANK_FWL;</rankSystem>
		<rating>C</rating>
	</defaults>

	<toc>
		<unitType>
			<option ifDateBetween="3051,">Mek,Tank,VTOL,Infantry,BattleArmor,Aero,Conventional Fighter</option>
			<option ifDateBetween="2470,3050">Mek,Tank,VTOL,Infantry,Aero,Conventional Fighter</option>
			<option>Tank,VTOL,Infantry,Aero,Conventional Fighter</option>
		</unitType>
		
		<eschelon>
			<option ifUnitType="Mek|Tank|VTOL">&REGIMENT;,&BATTALION;,&COMPANY;,&LANCE;</option>
			<option ifUnitType="Infantry">&REGIMENT;,&BATTALION;,&COMPANY;</option>
			<option ifUnitType="BattleArmor">&BATTALION;,&COMPANY;,&PLATOON;</option>
			<option ifUnitType="Aero|Conventional Fighter">&GROUP;,&WING;+,&WING;,&SQUADRON;,&FLIGHT;</option>
		</eschelon>
		
		<rating>
			<option>A,B,C,D,F</option>
		</rating>
	</toc>
	
	<force eschName="Regiment" ifUnitType="Mek">
		<eschelon>&REGIMENT;</eschelon>
		<co>&COLONEL;</co>
		<weightClass>
			<option weight="1">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L,L">&BATTALION;</option>
				<option weightClass="M,M,L">&BATTALION;</option>
				<option weightClass="M,L,L">&BATTALION;</option>
				<option weightClass="L,L,L">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H,H">&BATTALION;</option>
				<option weightClass="H,H,M">&BATTALION;</option>
				<option weightClass="H,H,L">&BATTALION;</option>
				<option weightClass="H,M,M">&BATTALION;</option>
				<option weightClass="H,M,L">&BATTALION;</option>
				<option weightClass="M,M,M">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,A,A">&BATTALION;</option>
				<option weightClass="A,A,H">&BATTALION;</option>
				<option weightClass="A,A,M">&BATTALION;</option>
				<option weightClass="A,H,H">&BATTALION;</option>
				<option weightClass="A,H,M">&BATTALION;</option>
				<option weightClass="A,H,L">&BATTALION;</option>
				<option weightClass="A,M,M">&BATTALION;</option>
				<option weightClass="A,M,L">&BATTALION;</option>
			</subforceOption>
		</subforces>
		
		<attachedForces ifUnitType="Mek">
			<subforce unitType="Aero"
				name="Aerospace Support">&WING;</subforce>
			<subforce unitType="Tank"
				name="Armor Support">&REGIMENT;</subforce>
			<subforce unitType="Infantry"
				name="Infantry Support">&REGIMENT;</subforce>			
		</attachedForces>

		<attachedForces ifUnitType="Tank" ifDateBetween=",2520">
			<subforce unitType="Aero"
				name="Aerospace Support">&WING;</subforce>
			<subforceOption ifDateBetween="2470,">
				<option ifRating="D|F"/>
				<option ifDateBetween=",2480"/>
				<option unitType="Mek" ifDateBetween=",2500">&COMPANY;</option>
				<option unitType="Mek" ifDateBetween="2480,2510">&BATTALION;-</option>
				<option unitType="Mek" ifDateBetween="2490,2519">&BATTALION;</option>
			</subforceOption>
			<subforce unitType="Infantry"
				name="Infantry Support">&REGIMENT;</subforce>			
		</attachedForces>
	</force>

	<force eschName="Regiment" ifUnitType="Tank">
		<eschelon>&REGIMENT;</eschelon>
		<co>&LT_COLONEL;</co>
		<weightClass>
			<option weight="1">L</option>
			<option weight="2">M</option>
			<option weight="1">H</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L,L">&BATTALION;</option>
				<option weightClass="M,M,L">&BATTALION;</option>
				<option weightClass="M,L,L">&BATTALION;</option>
				<option weightClass="L,L,L">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H">&BATTALION;</option>
				<option weightClass="H,M">&BATTALION;</option>
				<option weightClass="H,M,M">&BATTALION;</option>
				<option weightClass="H,M,L">&BATTALION;</option>
				<option weightClass="M,M,M">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,A">&BATTALION;</option>
				<option weightClass="A,H" weight="3">&BATTALION;</option>
				<option weightClass="A,M" weight="2">&BATTALION;</option>
				<option weightClass="A,M">&BATTALION;</option>
				<option weightClass="A,M">&BATTALION;</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschName="Squadron" ifUnitType="Tank">
		<eschelon>&BATTALION;</eschelon>
		<co>&MAJOR;</co>
		<weightClass>
			<option weight="4">A</option>
			<option weight="9">H</option>
			<option weight="9">M</option>
			<option weight="7">L</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A">&COMPANY;</option>
				<option weightClass="A,H">&COMPANY;</option>
				<option weightClass="A,H">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H">&COMPANY;</option>
				<option weightClass="H,H">&COMPANY;</option>
				<option weightClass="H,M">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M,M">&COMPANY;</option>
				<option weightClass="M,M,M">&COMPANY;</option>
				<option weightClass="M,M,L">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,M,L">&COMPANY;</option>
				<option weightClass="M,L,L">&COMPANY;</option>
				<option weightClass="L,L,L">&COMPANY;</option>
			</subforceOption>
		</subforces>
		
		<attachedForces>
			<subforceOption ifWeightClass="A">
				<option role="artillery" name="Artillery Support"
					weight="2">&COMPANY;</option>
				<option role="artillery" name="Artillery Support"
					weight="3" num="2">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="1">&LANCE;</option>
				<option weight="3" />
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option role="artillery" name="Artillery Support"
					weight="3" num="2">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="1">&LANCE;</option>
				<option weight="2" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option role="artillery" name="Artillery Support"
					weight="3" num="1">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="2">&LANCE;</option>
				<option weight="6" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Company" ifUnitType="Tank">
		<eschelon>&COMPANY;</eschelon>
		<co>&CAPTAIN;</co>
		
		<weightClass>
			<option weight="3">A</option>
			<option weight="8">H</option>
			<option weight="9">M</option>
			<option weight="5">L</option>
		</weightClass>
		
		<ruleGroup>
			<unitType ifWeightClass="L">
				<option weight="1">VTOL</option>
				<option weight="5">Tank</option>
			</unitType>
		</ruleGroup>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A,A">&LANCE;-</option>
				<option weightClass="A,A,H">&LANCE;-</option>
				<option weightClass="A,H,H">&LANCE;-</option>
				<option weightClass="A,H">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H,M">&LANCE;-</option>
				<option weightClass="H,H,H">&LANCE;-</option>
				<option weightClass="H,H,M">&LANCE;-</option>
				<option weightClass="A,M">&LANCE;</option>
				<option weightClass="H,H">&LANCE;</option>
				<option weightClass="H,M">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M,M">&LANCE;</option>
				<option weightClass="H,M,L">&LANCE;</option>
				<option weightClass="M,M,M">&LANCE;</option>
				<option weightClass="M,M">&LANCE;+</option>
				<option weightClass="M,L">&LANCE;+</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L,L">&LANCE;</option>
				<option weightClass="L,L,L">&LANCE;</option>
				<option weightClass="M,L">&LANCE;+</option>
				<option weightClass="L,L" weight="2">&LANCE;+</option>
			</subforceOption>
		</subforces>		
	</force>
	
	<force eschName="Platoon" ifUnitType="Tank">
		<eschelon>&LANCE;</eschelon>
		<co>&LT;</co>
		
		<weightClass>
			<option weight="3">A</option>
			<option weight="7">H</option>
			<option weight="7">M</option>
			<option weight="6">L</option>
		</weightClass>
		
		<ruleGroup>
			<role ifWeightClass="L" ifRole="">
				<option weight="6">recon</option>
				<option weight="2">urban</option>
				<option weight="4" />
			</role>
		
			<role ifWeightClass="M" ifRole="">
				<option weight="2">recon</option>
				<option weight="2">urban</option>
				<option weight="6" />
			</role>

			<role ifWeightClass="H|A" ifRole="">
				<option weight="3">fire_support</option>
				<option weight="1">urban</option>
				<option weight="6" />
			</role>
		</ruleGroup>

		<subforces generate="group">
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A,A,A,A" weight="5">&ELEMENT;</option>
				<option weightClass="A,A,A,H,H">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,A,H,H,H">&ELEMENT;</option>
				<option weightClass="H,H,H,H,H" weight="10">&ELEMENT;</option>
				<option weightClass="H,H,H,M,M">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H,M,M,M">&ELEMENT;</option>
				<option weightClass="M,M,M,M,M" weight="10">&ELEMENT;</option>
				<option weightClass="H,M,M,L,L">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,M,L,L,L">&ELEMENT;</option>
				<option weightClass="L,L,L,L,L" weight="5">&ELEMENT;</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschName="Squadron" ifUnitType="VTOL">
		<eschelon>&BATTALION;</eschelon>
		<co>&MAJOR;</co>

		<subforces>
			<subforce num="3">&COMPANY;</subforce>
		</subforces>
	</force>
	
	<force eschName="Platoon" ifUnitType="VTOL">
		<eschelon>&LANCE;</eschelon>
		<co>&LT;</co>
		
		<subforces generate="group">
			<subforce num="5">&ELEMENT;</subforce>
		</subforces>
	</force>
	
	<force eschName="Regiment" ifUnitType="Infantry|BattleArmor">
		<eschelon>&REGIMENT;</eschelon>
		<co>&LT_COLONEL;</co>
		
		<subforces>
			<subforce num="4">&BATTALION;</subforce>
		</subforces>
		
		<attachedForces>
			<subforceOption>
				<option unitType="Tank" role="artillery"
					name="Artillery Support"
					weight="1">&COMPANY;</option>
				<option unitType="Tank" role="artillery"
					name="Artillery Support"
					weight="1">&LANCE;</option>
				<option weight="4" />
			</subforceOption>
			<subforceOption>
				<option unitType="Conventional Fighter"
					name="Air Support" weight="1">&SQUADRON;</option>
				<option unitType="Conventional Fighter"
					name="Air Support" weight="1">&WING;</option>
				<option weight="10" />
			</subforceOption>
			<subforceOption>
				<option unitType="VTOL" weight="1">&COMPANY;</option>
				<option unitType="VTOL" weight="1" num="2">&COMPANY;</option>
				<option weight="5" />
			</subforceOption>
			<subforceOption>
				<option unitType="Tank" role="infantry_support"
					weight="3">&COMPANY;</option>
				<option unitType="Tank" role="infantry_support"
					weight="1">&BATTALION;</option>
				<option weight="2" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Battalion" ifUnitType="Infantry|BattleArmor">
		<eschelon>&BATTALION;</eschelon>
		<co>&MAJOR;</co>
		
		<unitType ifUnitType="Infantry" ifDateBetween="3051,">
			<option weight="1">BattleArmor</option>
			<option weight="11" ifDateBetween="3051,3060">Infantry</option>
			<option weight="9" ifDateBetween="3061,3075">Infantry</option>
			<option weight="7" ifDateBetween="3076,">Infantry</option>
		</unitType>
		
		<ruleGroup>
			<motive ifUnitType="Infantry">
				<option weight="3">Jump</option>
				<option weight="2">Tracked</option>
				<option weight="2">Wheeled</option>
				<option weight="1">Hover</option>
				<option weight="32" />
				<!-- 20% are assigned by entire battalion; the other 80%
					are left undefined and may still include JI, MI,
					or motorized at a lower eschelon -->
			</motive>
		</ruleGroup>
		
		<subforces>
			<subforce num="4">&COMPANY;</subforce>
		</subforces>
		
		<attachedForces>
			<subforceOption>
				<option unitType="Infantry" chassis="Field Artillery"
					role="artillery" ifDateBetween="3050,"
					weight="1">&COMPANY;</option>
				<option unitType="Infantry" chassis="Field Gunners"
					ifDateBetween="3050," weight="2">&COMPANY;</option>
				<option weight="3" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Company" ifUnitType="Infantry" ifRole="engineer">
		<eschelon>&COMPANY;</eschelon>
		<name>{ordinal} Engineer Company</name>
		<co>&CAPTAIN;</co>

		<subforces generate="group">
			<subforce num="3">&PLATOON;</subforce>
		</subforces>
		<subforces>
			<subforce ifRole="engineer" unitType="Tank">&LANCE;</subforce>
		</subforces>
	</force>
	
	<force eschName="Company" ifUnitType="Infantry|BattleArmor">
		<eschelon>&COMPANY;</eschelon>
		<co>&CAPTAIN;</co>
		
		<unitType ifUnitType="Infantry" ifDateBetween="3051,">
			<option weight="1">BattleArmor</option>
			<option weight="9" ifDateBetween="3051,3060">Infantry</option>
			<option weight="7" ifDateBetween="3061,3075">Infantry</option>
			<option weight="5" ifDateBetween="3076,">Infantry</option>
		</unitType>
		
		<subforces ifUnitType="Infantry" generate="group">
			<subforce num="4">&PLATOON;</subforce>
		</subforces>

		<subforces ifUnitType="BattleArmor">
			<subforce num="4">&PLATOON;</subforce>
		</subforces>		
	</force>
	
	<force eschName="Platoon" ifUnitType="Infantry">
		<eschelon>&PLATOON;</eschelon>
		<co>&LT;</co>
	</force>
	
	<force eschName="Platoon" ifUnitType="BattleArmor">
		<eschelon>&PLATOON;</eschelon>
		<co>&LT;</co>
		
		<subforces generate="group">
			<subforce num="5">&SQUAD;</subforce>
		</subforces>
	</force>
	
	<force eschName="Squad" ifUnitType="Infantry|BattleArmor">
		<eschelon>&SQUAD;</eschelon>
		<co>&SGT;</co>
	</force>

	<force eschName="Regiment" ifUnitType="Aero">
		<eschelon>&GROUP;</eschelon>
		<co>&COLONEL;</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
		</weightClass>

		<subforces>
			<subforce num="3">&WING;</subforce>
		</subforces>
	</force>

	<force eschName="Lance" ifUnitType="Aero|Conventional Fighter">
		<eschelon>&FLIGHT;</eschelon>
		<co>&LT;</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
		</weightClass>

		<subforces generate="group">
			<subforce num="2">&ELEMENT;</subforce>
		</subforces>
	</force>
</ruleset>
