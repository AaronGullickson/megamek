<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ruleset SYSTEM "rulesetEntities.dtd">

<!-- CC regularly adds a command lance to regiments. Aerospace forces make use of both 2-fighter
flights ("elements") and 3-fighter flights ("triples"). Around they started experimenting
with combined-arms augmented units. Per FM3085 they were becoming well-accepted by 3067,
and in 3081 Mek regiments were reorganized to include at least one augmented battalion,
consisting of the 4 Mek/2 Vee type of lance. Remaining Mek forces were encouraged to form
ad-hoc augmented lances with 4 Mek/2 BA. We assume that there is a similar increase in
use of augmented 4 Vee/2 inf lances in independent armor regiments. -->

<ruleset faction="CC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="formationRulesetSchema.xsd">

	<defaults>
		<unitType ifDateBetween=",2540">Tank</unitType>
		<unitType>Mek</unitType>
		<eschelon>&REGIMENT;</eschelon>
		<rankSystem>&RANK_CC;</rankSystem>
		<rating>C</rating>
	</defaults>

	<toc>
		<unitType>
			<option ifDateBetween="3051,">Mek,Tank,VTOL,Infantry,BattleArmor,Aero,Conventional Fighter</option>
			<option ifDateBetween="2472,">Mek,Tank,VTOL,Infantry,Aero,Conventional Fighter</option>
			<option>Tank,VTOL,Infantry,Aero,Conventional Fighter</option>
		</unitType>
		
		<eschelon>
			<option ifDateBetween="3060,"
				ifUnitType="Mek">&REGIMENT;,&BATTALION;^,&BATTALION;,&COMPANY;^,&COMPANY;,&LANCE;^,&LANCE;</option>
			<option ifDateBetween="3060,"
				ifUnitType="Tank">&REGIMENT;,&BATTALION;,&COMPANY;^,&COMPANY;,&LANCE;^,&LANCE;</option>
			<option ifUnitType="Mek|Tank|VTOL">&REGIMENT;,&BATTALION;,&COMPANY;,&LANCE;</option>
			<option ifUnitType="Infantry">&REGIMENT;,&BATTALION;,&COMPANY;</option>
			<option ifUnitType="BattleArmor">&BATTALION;,&COMPANY;,&PLATOON;</option>
			<option ifUnitType="Aero|Conventional Fighter">&WING;,&SQUADRON;,&FLIGHT;^,&FLIGHT;</option>
		</eschelon>
		
		<rating>
			<option>A,B,C,D,F</option>
		</rating>
		
		<flags>
			<option ifDateBetween="3060," ifEschelon="Company^|Lance^" ifUnitType="Mek">:+Vehicle,ba:+BattleArmor</option>
			<option ifDateBetween="3060," ifEschelon="Company^|Lance^" ifUnitType="Tank">mekVee:+Mek,ba:+BattleArmor,inf:+Infantry</option>
		</flags>
	</toc>
	
	<force eschName="Regiment" ifUnitType="Mek|Tank">
		<eschelon>&REGIMENT;</eschelon>
		<co ifUnitType="Tank">&LT_COLONEL;</co>
		<co>&COLONEL;</co>
		
		<weightClass>
			<option weight="1">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="L|M">
				<option weightClass="H" role="command">&COMPANY;</option>
				<option weightClass="M" role="command"
					weight="2">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A" role="command">&COMPANY;</option>
				<option weightClass="H" role="command"
					weight="2">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="A">
				<option weightClass="A" role="command"
					weight="2">&COMPANY;</option>
				<option weightClass="H" role="command">&COMPANY;</option>
			</subforceOption>
		</subforces>
		
		<subforces ifDateBetween=",3080">
			<subforceOption ifWeightClass="H|A">
				<option weightClass="A,A,A">&BATTALION;</option>
				<option weightClass="A,A,H">&BATTALION;</option>
				<option weightClass="A,A,M">&BATTALION;</option>
				<option weightClass="A,H,H">&BATTALION;</option>
				<option weightClass="A,H,M">&BATTALION;</option>
				<option weightClass="A,H,L">&BATTALION;</option>
				<option weightClass="A,M,M">&BATTALION;</option>
				<option weightClass="A,M,L">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H,H">&BATTALION;</option>
				<option weightClass="H,H,M">&BATTALION;</option>
				<option weightClass="H,H,L">&BATTALION;</option>
				<option weightClass="H,M,M">&BATTALION;</option>
				<option weightClass="H,M,L">&BATTALION;</option>
				<option weightClass="M,M,M">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L,L">&BATTALION;</option>
				<option weightClass="M,M,L">&BATTALION;</option>
				<option weightClass="M,L,L">&BATTALION;</option>
				<option weightClass="L,L,L">&BATTALION;</option>
			</subforceOption>
		</subforces>
		
		<subforces ifDateBetween="3081,">
			<subforceOption ifWeightClass="H|A">
				<option weightClass="A,A">&BATTALION;</option>
				<option weightClass="A,H">&BATTALION;</option>
				<option weightClass="A,M">&BATTALION;</option>
				<option weightClass="A,H">&BATTALION;</option>
				<option weightClass="H,H">&BATTALION;</option>
				<option weightClass="H,M">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M">&BATTALION;</option>
				<option weightClass="M,M">&BATTALION;</option>
				<option weightClass="M,L">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L">&BATTALION;</option>
				<option weightClass="L,L">&BATTALION;</option>
			</subforceOption>

			<subforceOption ifWeightClass="H|A">
				<option weightClass="A" augmented="1">&BATTALION;</option>
				<option weightClass="H" augmented="1">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" weight="1"
					 augmented="1">&BATTALION;</option>
				<option weightClass="M" weight="2"
					 augmented="1">&BATTALION;</option>
				<option weightClass="L" weight="1"
					 augmented="1">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M" augmented="1">&BATTALION;</option>
				<option weightClass="L" weight="2"
					 augmented="1">&BATTALION;</option>
			</subforceOption>
		</subforces>
		
		<attachedForces ifUnitType="Mek">
			<subforceOption>
				<option unitType="Aero" weight="2"
					name="Aerospace Support">&WING;</option>
				<option unitType="Aero" weight="2" num="2"
					name="Aerospace Support">&WING;</option>
				<option unitType="Aero" num="2"
					name="Aerospace Support">&FLIGHT;</option>
			</subforceOption>
			<subforceOption ifDateBetween=",3080">
				<option unitType="Tank" weight="2"
				name="Armor Support">&BATTALION;</option>
				<option unitType="Tank"
				name="Armor Support">&REGIMENT;</option>
			</subforceOption>
			<subforceOption>
				<option unitType="Infantry"
				name="Infantry Support">&BATTALION;</option>
				<option unitType="Infantry" weight="2"
				name="Infantry Support">&REGIMENT;</option>
			</subforceOption>
		</attachedForces>
		

		<attachedForces ifUnitType="Tank" ifDateBetween=",2540">
			<subforceOption>
				<option unitType="Aero" weight="2"
					name="Aerospace Support">&WING;</option>
				<option unitType="Aero" weight="2" num="2"
					name="Aerospace Support">&WING;</option>
				<option unitType="Aero" num="2"
					name="Aerospace Support">&FLIGHT;</option>
			</subforceOption>
			<subforceOption ifDateBetween="2472,">
				<option ifRating="D|F"/>
				<option ifDateBetween=",2460"/>
				<option unitType="Mek" ifDateBetween=",2510">&COMPANY;</option>
				<option unitType="Mek" ifDateBetween="2490,2390">&BATTALION;-</option>
				<option unitType="Mek" ifDateBetween="2500,2399">&BATTALION;</option>
			</subforceOption>
			<subforce unitType="Infantry"
				name="Infantry Support">&REGIMENT;</subforce>			
		</attachedForces>		
	</force>
	
	<force eschName="Battalion" ifAugmented="0" ifUnitType="Mek|Tank">
		<eschelon>&BATTALION;</eschelon>
		<co ifUnitType="Mek">&LT_COLONEL;</co>
		<co>&MAJOR;</co>
		
		<weightClass>
			<option weight="4">A</option>
			<option weight="9">H</option>
			<option weight="9">M</option>
			<option weight="7">L</option>
		</weightClass>
		
		<flags ifDateBetween="3060," ifFaction="!CC.WHO">
			<option>+testAugmented</option>
		</flags>
		
		<subforces>
			<asParent/>
		</subforces>
		
		<attachedForces ifUnitType="Tank"
				ifRole="!artillery|missile_artillery">
			<subforceOption ifWeightClass="A">
				<option role="artillery" name="Artillery Support"
					weight="2">&COMPANY;</option>
				<option role="artillery" name="Artillery Support"
					weight="3" num="2">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="1">&LANCE;</option>
				<option weight="3" />
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option role="artillery" name="Artillery Support"
					weight="3" num="2">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="1">&LANCE;</option>
				<option weight="2" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option role="artillery" name="Artillery Support"
					weight="3" num="1">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="2">&LANCE;</option>
				<option weight="6" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Augmented Battalion" ifAugmented="1" ifUnitType="Mek">
		<eschelon>&BATTALION;</eschelon>
		<co>&LT_COLONEL;</co>

		<weightClass>
			<option weight="4">A</option>
			<option weight="9">H</option>
			<option weight="9">M</option>
			<option weight="7">L</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="L|M">
				<option weightClass="H" role="command"
					augmented="0">&LANCE;</option>
				<option weightClass="M" role="command"
					augmented="0" weight="2">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A" role="command"
					augmented="0">&LANCE;</option>
				<option weightClass="H" role="command"
					augmented="0" weight="2">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="A">
				<option weightClass="A" role="command"
					augmented="0" weight="2">&LANCE;</option>
				<option weightClass="H" role="command"
					augmented="0">&LANCE;</option>
			</subforceOption>

			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" weight="2">&COMPANY;</option>
				<option weightClass="A,H">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H">&COMPANY;</option>
				<option weightClass="H,H" weight="3">&COMPANY;</option>
				<option weightClass="H,M" weight="2">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M">&COMPANY;</option>
				<option weightClass="M,M" weight="2">&COMPANY;</option>
				<option weightClass="M,L">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L">&COMPANY;</option>
				<option weightClass="L,L" weight="2">&COMPANY;</option>
			</subforceOption>
		</subforces>
		
		<attachedForces>
			<subforceOption ifWeightClass="A">
				<option role="artillery" name="Artillery Support"
					weight="2">&COMPANY;</option>
				<option role="artillery" name="Artillery Support"
					weight="3" num="2">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="1">&LANCE;</option>
				<option weight="3" />
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option role="artillery" name="Artillery Support"
					weight="3" num="2">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="1">&LANCE;</option>
				<option weight="2" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option role="artillery" name="Artillery Support"
					weight="3" num="1">&LANCE;</option>
				<option role="artillery" name="Artillery Support"
					weight="1" num="2">&LANCE;</option>
				<option weight="6" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Company" ifAugmented="0" ifUnitType="Mek">
		<eschelon>&COMPANY;</eschelon>
		<co>&MAJOR;</co>
		
		<!-- Up to 3065 about 1/5 is augmented, then 1/4 3066-3070, then 1/3 3070-3080.
		2/3 of these are Vees, the remainder BA. After 3080, 1/3 will be Mek/Vee
		from the battalion rule or the toplevel rule here, then 1/4 of the remaining
		will be Mek/BA. -->

		<ruleGroup>
			<changeEschelon ifFlags="testAugmented">
				<option flags="-testAugmented" weight="4" ifDateBetween="3060,3065"/>
				<option flags="-testAugmented" weight="4" ifDateBetween="3060,3070"/>
				<option flags="-testAugmented" weight="8"/>
				
				<option flags="-testAugmented" weight="2"
					augmented="1" ifDateBetween=",3080">&COMPANY;</option>
				
				<option flags="-testAugmented,+ba" augmented="1">&COMPANY;</option>
				<option flags="-testAugmented,+ba" augmented="1"
					ifDateBetween="3081,">&COMPANY;</option>
	
				<option flags="-testAugmented" weight="3" augmented="1"
					ifDateBetween="3081," ifTopLevel="1">&COMPANY;</option>
			</changeEschelon>
		</ruleGroup>
				
		<ruleGroup>
			<weightClass>
				<option weight="3">A</option>
				<option weight="8">H</option>
				<option weight="9">M</option>
				<option weight="5">L</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A,A">&LANCE;</option>
				<option weightClass="A,A,H">&LANCE;</option>
				<option weightClass="A,H,H">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H,M">&LANCE;</option>
				<option weightClass="H,H,H">&LANCE;</option>
				<option weightClass="H,H,M">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M,M">&LANCE;</option>
				<option weightClass="H,M,L">&LANCE;</option>
				<option weightClass="M,M,M">&LANCE;</option>
				<option weightClass="M,M,L">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L,L">&LANCE;</option>
				<option weightClass="L,L,L">&LANCE;</option>
				<option weightClass="L,L,L">&LANCE;</option>
			</subforceOption>
		</subforces>		
	</force>
	
	<force eschName="Augmented Company" ifAugmented="1" ifUnitType="Mek">
		<eschelon>&COMPANY;</eschelon>
		<co>&MAJOR;</co>
		
		<!-- Lower-rated units are more likely to have 4 Vee / 2 Mek lances. -->
		<changeEschelon ifDateBetween="3060,3075" ifRating="C|D|F">
			<option weight="2"/>
			<option weight="2" ifDateBetween="3067,"/>
			<option unitType="Tank" flags="+mekVee">&COMPANY;</option>
			<option unitType="Tank" ifRating="D" flags="+mekVee">&COMPANY;</option>
			<option unitType="Tank" ifRating="F" flags="+mekVee">&COMPANY;</option>
		</changeEschelon>

		<ruleGroup>
			<flags ifTopLevel="1">
				<option weight="2"/>
				<option>ba</option>
			</flags>
		
			<weightClass>
				<option weight="3">A</option>
				<option weight="8">H</option>
				<option weight="9">M</option>
				<option weight="5">L</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" weight="2">&LANCE;</option>
				<option weightClass="A,H">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H">&LANCE;</option>
				<option weightClass="H,H" weight="3">&LANCE;</option>
				<option weightClass="H,M" weight="2">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M">&LANCE;</option>
				<option weightClass="M,M" weight="2">&LANCE;</option>
				<option weightClass="M,L">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L">&LANCE;</option>
				<option weightClass="L,L" weight="2">&LANCE;</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschName="Augmented Lance" ifAugmented="1" ifUnitType="Mek">
		<eschelon>&LANCE;</eschelon>
		<co>&CAPTAIN;</co>
		
		<weightClass>
			<option weight="3">A</option>
			<option weight="7">H</option>
			<option weight="7">M</option>
			<option weight="6">L</option>
		</weightClass>
		
		<ruleGroup>
			<role ifWeightClass="L" ifRole="">
				<option weight="8">recon</option>
				<option weight="2">fire_support</option>
				<option weight="1">urban</option>
				<option weight="4" />
			</role>
		
			<role ifWeightClass="M" ifRole="">
				<option weight="2">recon</option>
				<option weight="2">fire_support</option>
				<option weight="1">urban</option>
				<option weight="4" />
			</role>

			<role ifWeightClass="H|A" ifRole="">
				<option weight="2">fire_support</option>
				<option weight="1">urban</option>
				<option weight="6" />
			</role>
		</ruleGroup>
		
		<subforces generate="group">
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A,A,A">&ELEMENT;</option>
				<option weightClass="A,A,A,H" weight="2">&ELEMENT;</option>
				<option weightClass="A,A,H,H" weight="2">&ELEMENT;</option>
				<option weightClass="A,A,H,M">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H,H,H">&ELEMENT;</option>
				<option weightClass="A,H,H,M" weight="2">&ELEMENT;</option>
				<option weightClass="H,H,H,H" weight="2">&ELEMENT;</option>
				<option weightClass="H,H,H,M">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H,M,M">&ELEMENT;</option>
				<option weightClass="H,M,M,M" weight="2">&ELEMENT;</option>
				<option weightClass="M,M,M,M" weight="2">&ELEMENT;</option>
				<option weightClass="H,M,M,L">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,M,L,L">&ELEMENT;</option>
				<option weightClass="M,M,L,L" weight="2">&ELEMENT;</option>
				<option weightClass="M,L,L,L" weight="2">&ELEMENT;</option>
				<option weightClass="L,L,L,L">&ELEMENT;</option>
			</subforceOption>
		</subforces>

		<subforces generate="group" ifFlags="!ba">
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" weight="2"
					unitType="Tank">&ELEMENT;</option>
				<option weightClass="H,H" unitType="Tank">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,A" unitType="Tank">&ELEMENT;</option>
				<option weightClass="H,H" weight="2"
					unitType="Tank">&ELEMENT;</option>
				<option weightClass="M,M" weight="1"
					unitType="Tank">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H" unitType="Tank">&ELEMENT;</option>
				<option weightClass="M,M" weight="2"
					unitType="Tank">&ELEMENT;</option>
				<option weightClass="L,L" unitType="Tank">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,M" unitType="Tank">&ELEMENT;</option>
				<option weightClass="L,L" weight="2"
					unitType="Tank">&ELEMENT;</option>
			</subforceOption>
		</subforces>
		
		<subforces generate="group" ifFlags="ba">
			<subforce num="2" unitType="BattleArmor"
				role="mechanized_ba">&ELEMENT;</subforce>
		</subforces>
	</force>
	
	<force eschName="Company" ifAugmented="0" ifUnitType="Tank">
		<eschelon>&COMPANY;</eschelon>
		<co>&CAPTAIN;</co>
		
		<flags ifTopLevel="1" ifDateBetween="3060," ifFaction="!CC.WHO">
			<option>+testAugmented</option>
		</flags>
		
		<ruleGroup>
			<changeEschelon ifFlags="testAugmented">
				<option flags="-testAugmented" weight="1" ifDateBetween="3060,3065"/>
				<option flags="-testAugmented" weight="1" ifDateBetween="3060,3070"/>
				<option flags="-testAugmented" weight="2"/>
				
				<option flags="-testAugmented" weight="1"
					augmented="1" ifDateBetween=",3080">&COMPANY;</option>
			</changeEschelon>
		</ruleGroup>
		
		<ruleGroup>
			<weightClass>
				<option weight="3">A</option>
				<option weight="8">H</option>
				<option weight="9">M</option>
				<option weight="5">L</option>
			</weightClass>
		</ruleGroup>
		
		<ruleGroup>
			<unitType ifUnitType="Tank" ifWeightClass="L">
				<option weight="1">VTOL</option>
				<option weight="5">Tank</option>
			</unitType>
		</ruleGroup>
		
		<subforces>
			<asParent/>
		</subforces>		
	</force>
	
	<force eschName="Augmented Company" ifAugmented="1" ifUnitType="Tank">
		<eschelon>&COMPANY;</eschelon>
		<co>&CAPTAIN;</co>
		
		<!-- Augmented companies that have not already been flagged as 4 Vee/2 Mek have
		a chance of being 4 Vee/2 BA or 4 Vee/2 inf. By 3081 the standardization of Mek
		regiments with one augmented battalion and a number of ad-hoc Mek/BA lances
		makes it more likely that armor augmented lances will be Vee/inf. -->
		
		<changeEschelon ifFlags="!mekVee">
			<option weight="1" ifRating="D"/>
			<option weight="2" ifRating="C"/>
			<option weight="3" ifRating="B"/>
			<option weight="4" ifRating="A"/>
			<option unitType="Tank" flags="inf" weight="5">&COMPANY;</option>
			<option unitType="Tank" flags="ba" ifRating="A|B">&COMPANY;</option>

			<option unitType="Tank" flags="inf" ifDateBetween="3081,"
				weight="6">&COMPANY;</option>
		</changeEschelon>

		<ruleGroup>
			<flags ifTopLevel="1">
				<option weight="2"/>
				<option>ba</option>
			</flags>
		
			<weightClass>
				<option weight="3">A</option>
				<option weight="8">H</option>
				<option weight="9">M</option>
				<option weight="5">L</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" weight="2">&LANCE;</option>
				<option weightClass="A,H">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H">&LANCE;</option>
				<option weightClass="H,H" weight="3">&LANCE;</option>
				<option weightClass="H,M" weight="2">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M">&LANCE;</option>
				<option weightClass="M,M" weight="2">&LANCE;</option>
				<option weightClass="M,L">&LANCE;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L">&LANCE;</option>
				<option weightClass="L,L" weight="2">&LANCE;</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschName="Augmented Lance" ifAugmented="1" ifUnitType="Tank">
		<eschelon>&LANCE;</eschelon>
		<co>&LT;</co>
		
		<weightClass>
			<option weight="3">A</option>
			<option weight="7">H</option>
			<option weight="7">M</option>
			<option weight="6">L</option>
		</weightClass>
		
		<ruleGroup>
			<role ifFlags="ba|inf">
				<option/>
				<option weight="2">infantry_support</option>
			</role>
		</ruleGroup>
		
		<ruleGroup>
			<role ifWeightClass="L" ifRole="">
				<option weight="6">recon</option>
				<option weight="2">urban</option>
				<option weight="4" />
			</role>
		
			<role ifWeightClass="M" ifRole="">
				<option weight="2">recon</option>
				<option weight="2">urban</option>
				<option weight="6" />
			</role>

			<role ifWeightClass="H|A" ifRole="">
				<option weight="3">fire_support</option>
				<option weight="1">urban</option>
				<option weight="6" />
			</role>
		</ruleGroup>

		<subforces generate="group">
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A,A,A" weight="5">&ELEMENT;</option>
				<option weightClass="A,A,H,H">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,A,H,H">&ELEMENT;</option>
				<option weightClass="H,H,H,H" weight="10">&ELEMENT;</option>
				<option weightClass="H,H,M,M">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H,M,M">&ELEMENT;</option>
				<option weightClass="M,M,M,M" weight="10">&ELEMENT;</option>
				<option weightClass="M,M,L,L">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,M,L,L">&ELEMENT;</option>
				<option weightClass="L,L,L,L" weight="5">&ELEMENT;</option>
			</subforceOption>
		</subforces>

		<subforces generate="group" ifFlags="!ba|inf">
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" weight="2"
					unitType="Mek">&ELEMENT;</option>
				<option weightClass="A,H" unitType="Mek">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H" unitType="Mek">&ELEMENT;</option>
				<option weightClass="H,H" weight="3"
					unitType="Mek">&ELEMENT;</option>
				<option weightClass="H,M" weight="2"
					unitType="Mek">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M" unitType="Mek">&ELEMENT;</option>
				<option weightClass="M,M" weight="2"
					unitType="Mek">&ELEMENT;</option>
				<option weightClass="M,L" unitType="Mek">&ELEMENT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,L" unitType="Mek">&ELEMENT;</option>
				<option weightClass="L,L" weight="2"
					unitType="Mek">&ELEMENT;</option>
			</subforceOption>
		</subforces>
		
		<subforces generate="group" ifFlags="ba">
			<subforce num="2" unitType="BattleArmor">&SQUAD;</subforce>
		</subforces>

		<subforces generate="group" ifFlags="inf">
			<subforce num="2" unitType="Infantry">&PLATOON;</subforce>
		</subforces>
	</force>
	
	<force eschName="Regiment" ifUnitType="Infantry|BattleArmor">
		<eschelon>&REGIMENT;</eschelon>
		<co>&LT_COLONEL;</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="2">H</option>
			<option weight="4">M</option>
			<option weight="3">L</option>
		</weightClass>

		<subforces>
			<subforce role="command" ifUnitType="Infantry">&PLATOON;</subforce>
		
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L,L">&BATTALION;</option>
				<option weightClass="M,M,L" weight="3">&BATTALION;</option>
				<option weightClass="M,L,L" weight="2">&BATTALION;</option>
				<option weightClass="L,L,L">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H,H">&BATTALION;</option>
				<option weightClass="H,H,M">&BATTALION;</option>
				<option weightClass="H,H,L">&BATTALION;</option>
				<option weightClass="H,M,M" weight="2">&BATTALION;</option>
				<option weightClass="H,M,L">&BATTALION;</option>
				<option weightClass="M,M,M" weight="3">&BATTALION;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H|A">
				<option weightClass="A,A,A">&BATTALION;</option>
				<option weightClass="A,A,H">&BATTALION;</option>
				<option weightClass="A,A,M">&BATTALION;</option>
				<option weightClass="A,H,H">&BATTALION;</option>
				<option weightClass="A,H,M" weight="2">&BATTALION;</option>
				<option weightClass="A,H,L">&BATTALION;</option>
				<option weightClass="A,M,M" weight="3">&BATTALION;</option>
				<option weightClass="A,M,L" weight="2">&BATTALION;</option>
			</subforceOption>
		</subforces>
		
		<attachedForces>
			<subforceOption>
				<option unitType="Tank" role="artillery"
					name="Artillery Support"
					weight="1">&COMPANY;</option>
				<option unitType="Tank" role="artillery"
					name="Artillery Support"
					weight="1">&BATTALION;</option>
				<option weight="4" />
				<option weight="2" ifWeightClass="M"/>
				<option weight="4" ifWeightClass="L"/>
			</subforceOption>
			<subforceOption>
				<option unitType="Conventional Fighter"
					name="Air Support" weight="1">&SQUADRON;</option>
				<option unitType="Conventional Fighter"
					name="Air Support" weight="1">&WING;</option>
				<option weight="10" />
			</subforceOption>
			<subforceOption>
				<option unitType="VTOL" weight="1">&COMPANY;</option>
				<option unitType="VTOL" weight="1" num="2">&COMPANY;</option>
				<option weight="5" />
				<option weight="5" ifWeightClass="A" />
				<option weight="2" ifWeightClass="H" />
			</subforceOption>
			<subforceOption>
				<option unitType="Tank" role="infantry_support"
					weight="3">&COMPANY;</option>
				<option unitType="Tank" role="infantry_support"
					weight="1">&BATTALION;</option>
				<option unitType="Tank" ifDateBetween="3060,"
					augmented="1" flags="+inf"
					role="infantry_support">&COMPANY;</option>
				<option unitType="Tank" ifDateBetween="3070,"
					augmented="1" flags="+inf"
					role="infantry_support">&COMPANY;</option>
				<option weight="2" />
				<option weight="1" ifWeightClass="M"/>
				<option weight="2" ifWeightClass="L"/>
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Battalion" ifUnitType="Infantry|BattleArmor">
		<eschelon>&BATTALION;</eschelon>
		<co>&MAJOR;</co>
		
		<unitType ifUnitType="Infantry" ifDateBetween="3051,"
				ifRole="" ifTopLevel="0">
			<option weight="1">BattleArmor</option>
			<option weight="11" ifDateBetween="3051,3060">Infantry</option>
			<option weight="9" ifDateBetween="3061,3075">Infantry</option>
			<option weight="7" ifDateBetween="3076,">Infantry</option>
		</unitType>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="2">H</option>
			<option weight="4">M</option>
			<option weight="3">L</option>
		</weightClass>

		<ruleGroup>
			<motive ifUnitType="Infantry">
				<option weight="3">Jump</option>
				<option ifWeightClass="L" weight="3">Jump</option>
				<option weight="2">Tracked</option>
				<option weight="2">Wheeled</option>
				<option weight="1">Hover</option>
				<option ifWeightClass="L" weight="3">Hover</option>
				<option weight="32" />
				<!-- 20% are assigned by entire battalion; the other 80%
					are left undefined and may still include JI, MI,
					or motorized at a lower eschelon -->
			</motive>
		</ruleGroup>
		
		<subforces>
			<subforce role="command" ifUnitType="Infantry">&SQUAD;</subforce>
		
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A,A">&COMPANY;</option>
				<option weightClass="A,A,H">&COMPANY;</option>
				<option weightClass="A,H,H">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H,H">&COMPANY;</option>
				<option weightClass="H,H,H">&COMPANY;</option>
				<option weightClass="H,H,M" weight="2">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,M,M">&COMPANY;</option>
				<option weightClass="M,M,M" weight="2">&COMPANY;</option>
				<option weightClass="M,M,L">&COMPANY;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M,M,L" weight="3">&COMPANY;</option>
				<option weightClass="M,L,L" weight="2">&COMPANY;</option>
				<option weightClass="L,L,L">&COMPANY;</option>
			</subforceOption>
		</subforces>
		
		<attachedForces>
			<subforceOption ifWeightClass="A|H">
				<option unitType="Infantry" role="artillery"
					ifDateBetween="3050," weight="1">&COMPANY;</option>
				<option unitType="Infantry" role="field_gun"
					ifDateBetween="3050," weight="2">&COMPANY;</option>
				<option weight="3" ifWeightClass="H" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Fleet Regiment" ifUnitType="Aero">
		<eschelon>&REGIMENT;</eschelon>
		<co>&COLONEL;</co>

		<weightClass>
			<option weight="2">L</option>
			<option weight="3">M</option>
			<option weight="4">H</option>
		</weightClass>
		
		<subforces>
			<subforce role="command" augmented="1" num="2">&FLIGHT;</subforce>
			
			<subforceOption ifWeightClass="H" ifUnitType="Aero">
				<option weightClass="H,H,H">&SQUADRON;</option>
				<option weightClass="H,H,M">&SQUADRON;</option>
				<option weightClass="H,H,L">&SQUADRON;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M" ifUnitType="Aero">
				<option weightClass="H,M,M">&SQUADRON;</option>
				<option weightClass="M,M,M">&SQUADRON;</option>
				<option weightClass="H,M,L">&SQUADRON;</option>
				<option weightClass="M,M,L">&SQUADRON;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L" ifUnitType="Aero">
				<option weightClass="H,L,L">&SQUADRON;</option>
				<option weightClass="M,L,L">&SQUADRON;</option>
				<option weightClass="L,L,L">&SQUADRON;</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschName="Wing" ifUnitType="Aero|Conventional Fighter">
		<eschelon>&WING;</eschelon>
		<co>&LT_COLONEL;</co>
		
		<weightClass>
			<option weight="3">L</option>
			<option weight="4">M</option>
			<option weight="3">H</option>
		</weightClass>
		
		<subforces>
			<subforce role="command" augmented="1">&FLIGHT;</subforce>
			
			<subforceOption ifWeightClass="H" ifUnitType="Aero">
				<option weightClass="H,H,H">&SQUADRON;</option>
				<option weightClass="H,H,M">&SQUADRON;</option>
				<option weightClass="H,H,L">&SQUADRON;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M" ifUnitType="Aero">
				<option weightClass="H,M,M">&SQUADRON;</option>
				<option weightClass="M,M,M">&SQUADRON;</option>
				<option weightClass="H,M,L">&SQUADRON;</option>
				<option weightClass="M,M,L">&SQUADRON;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L" ifUnitType="Aero">
				<option weightClass="H,L,L">&SQUADRON;</option>
				<option weightClass="M,L,L">&SQUADRON;</option>
				<option weightClass="L,L,L">&SQUADRON;</option>
			</subforceOption>
			<subforce ifUnitType="Conventional Fighter" num="3">&SQUADRON;</subforce>
		</subforces>
		
		<attachedForces>
			<subforceOption>
				<option weight="2" unitType="Infantry" name="Engineers"
					role="engineer">&COMPANY;</option>
				<option weight="1" />
			</subforceOption>
		</attachedForces>
	</force>
	
	<force eschName="Squadron" ifUnitType="Aero|Conventional Fighter">
		<eschelon>&SQUADRON;</eschelon>
		<co>&CAPTAIN;</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
		</weightClass>

		<subforces>
			<subforceOption ifWeightClass="H" ifUnitType="Aero">
				<option weightClass="H,H,H">&FLIGHT;</option>
				<option weightClass="H,H,M">&FLIGHT;</option>
				<option weightClass="H,H,L">&FLIGHT;</option>
				<option weightClass="H,H" weight="2"
					augmented="1">&FLIGHT;</option>
				<option weightClass="H,M"
					augmented="1">&FLIGHT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="M" ifUnitType="Aero">
				<option weightClass="H,M,M">&FLIGHT;</option>
				<option weightClass="M,M,M">&FLIGHT;</option>
				<option weightClass="H,M,L">&FLIGHT;</option>
				<option weightClass="M,M,L">&FLIGHT;</option>
				<option weightClass="H,M"
					augmented="1">&FLIGHT;</option>
				<option weightClass="M,L"
					augmented="1">&FLIGHT;</option>
				<option weightClass="H,L"
					augmented="1">&FLIGHT;</option>
			</subforceOption>
			<subforceOption ifWeightClass="L" ifUnitType="Aero">
				<option weightClass="H,L,L">&FLIGHT;</option>
				<option weightClass="M,L,L">&FLIGHT;</option>
				<option weightClass="L,L,L">&FLIGHT;</option>
				<option weightClass="M,L"
					augmented="1">&FLIGHT;</option>
				<option weightClass="L,L" weight="2"
					augmented="1">&FLIGHT;</option>
			</subforceOption>
			<subforceOption ifUnitType="Conventional Fighter">
				<option num="3">&FLIGHT;</option>
				<option num="2" augmented="1">&FLIGHT;</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschName="Triple" ifAugmented="1" ifUnitType="Aero|Conventional Fighter">
		<eschelon>&FLIGHT;</eschelon>
		<co>&LT;</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
		</weightClass>

		<subforces generate="group">
			<subforce num="3">&ELEMENT;</subforce>
		</subforces>
	</force>

	<force eschName="Element" ifAugmented="0" ifUnitType="Aero|Conventional Fighter">
		<eschelon>&FLIGHT;</eschelon>
		<co>&LT;</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
		</weightClass>

		<subforces generate="group">
			<subforce num="2">&ELEMENT;</subforce>
		</subforces>
	</force>
</ruleset>